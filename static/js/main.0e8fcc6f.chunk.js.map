{"version":3,"sources":["components/Preloader/preloader.module.css","hoc/formControls/formControls.module.css","hoc/withAuth.js","api/api.js","redux/auth-reducer.js","helpers/validators/validators.js","hoc/formControls/FormControls.js","components/public/LoginForm.jsx","components/public/RegistrationForm.jsx","components/public/Public.jsx","assets/images/preloader.svg","components/Preloader/Preloader.jsx","components/public/PublicContainer.jsx","components/private/Private.jsx","App.js","reportWebVitals.js","redux/redux-store.js","index.js"],"names":["module","exports","WrappedComponent","instance","axios","headers","Accept","baseURL","authAPI","email","password","post","get","Authorization","localStorage","getItem","SET_AUTH_USER_ERROR","SET_REG_USER_ERROR","SET_IS_AUTH","SET_IS_FETCHING","initialState","isAuth","error","regError","isFetching","setIsAuth","type","setIsFetching","login","dispatch","a","response","data","statusCode","setItem","body","access_token","refresh_token","me","status","authReducer","state","action","required","value","renderField","Component","input","meta","props","className","style","forControl","active","errorMessage","renderInput","LoginReduxForm","reduxForm","form","handleSubmit","anyTouched","onSubmit","Field","validate","component","placeholder","name","loginError","RegistrationReduxForm","Public","handleClick","reg","onClick","tab","title","Preloader","preloader","src","PreloaderIcon","alt","cx","classNames","bind","connect","auth","signUp","useState","setActive","setReg","history","useHistory","useEffect","push","e","target","userLogin","mapStateToProps","withAuthRedirect","to","App","path","Private","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","reducersPack","combineReducers","formReducer","store","createStore","compose","applyMiddleware","ReduxThunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0e8fcc6f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"preloader_preloader__3mRUd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"formControls_error__1IIRU\",\"forControl\":\"formControls_forControl__3wMFa\",\"errorMessage\":\"formControls_errorMessage__1KgVV\",\"loginError\":\"formControls_loginError__1BsdZ\",\"loginForm\":\"formControls_loginForm__2IweL\",\"tab\":\"formControls_tab__-S0lu\",\"active\":\"formControls_active__3AkFh\"};","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst mapStateToProps = ({ auth }) => ({\r\n  isAuth: auth.isAuth,\r\n});\r\n\r\nexport const withAuthRedirect = (WrappedComponent) =>\r\n  connect(mapStateToProps)((props) => {\r\n    if (props.isAuth) {\r\n      return <WrappedComponent {...props} />;\r\n    }\r\n    return <Redirect to=\"/public\" />;\r\n  });\r\n","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  headers: {\r\n    Accept: \"application/json\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n  baseURL: \"//142.93.134.108:1111/\",\r\n});\r\n\r\nexport const authAPI = {\r\n  async createUser(email, password) {\r\n    return await instance.post(`sign_up`, { email, password });\r\n  },\r\n  async loginUser(email, password) {\r\n    return await instance.post(`login?email=${email}&password=${password}`);\r\n  },\r\n  async me() {\r\n    return await instance.get(\"me\", {\r\n      headers: {\r\n        Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`,\r\n      },\r\n    });\r\n  },\r\n  async refresh() {\r\n    return await instance.post(\r\n      \"refresh\",\r\n      {},\r\n      {\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem(\"refresh_token\")}`,\r\n        },\r\n      }\r\n    );\r\n  },\r\n};\r\n","import { authAPI } from \"../api/api\";\r\n\r\nconst SET_AUTH_USER_ERROR = \"auth/SET_AUTH_USER_ERROR\";\r\nconst SET_REG_USER_ERROR = \"auth/SET_REG_USER_ERROR\";\r\nconst SET_IS_AUTH = \"auth/SET_IS_AUTH\";\r\nconst SET_IS_FETCHING = \"auth/SET_IS_FETCHING\";\r\n\r\nlet initialState = {\r\n  isAuth: false,\r\n  error: null,\r\n  regError: null,\r\n  isFetching: false,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_AUTH_USER_ERROR:\r\n      return {\r\n        ...state,\r\n        error: action.error,\r\n      };\r\n    case SET_REG_USER_ERROR:\r\n      return {\r\n        ...state,\r\n        regError: action.regError,\r\n      };\r\n    case SET_IS_AUTH:\r\n      return {\r\n        ...state,\r\n        isAuth: action.isAuth,\r\n      };\r\n    case SET_IS_FETCHING:\r\n      return {\r\n        ...state,\r\n        isFetching: action.isFetching,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setAuthError = (error) => ({ type: SET_AUTH_USER_ERROR, error });\r\nexport const setIsAuth = (isAuth) => ({ type: SET_IS_AUTH, isAuth });\r\nexport const setRegUserError = (regError) => ({ type: SET_REG_USER_ERROR, regError });\r\nexport const setIsFetching = (isFetching) => ({ type: SET_IS_FETCHING, isFetching });\r\n\r\nexport const login = (email, password) => {\r\n  return async (dispatch) => {\r\n    let response = await authAPI.loginUser(email, password);\r\n    if (response.data.statusCode === 200) {\r\n      dispatch(setIsFetching(true));\r\n      dispatch(setIsAuth(true));\r\n      localStorage.setItem(\"access_token\", response.data.body.access_token);\r\n      localStorage.setItem(\"refresh_token\", response.data.body.refresh_token);\r\n      dispatch(setIsFetching(false));\r\n    } else {\r\n      dispatch(setAuthError(\"Wrong pass or email\"));\r\n    }\r\n  };\r\n};\r\nexport const signUp = (email, password) => {\r\n  return async (dispatch) => {\r\n    let response = await authAPI.createUser(email, password);\r\n    if (response.data.status === \"Ok\") {\r\n      dispatch(login(email, password));\r\n      dispatch(setIsFetching(false));\r\n    } else {\r\n      dispatch(setRegUserError(\"account is already exist\"));\r\n    }\r\n  };\r\n};\r\nexport const refreshToken = () => {\r\n  return async (dispatch) => {\r\n    let response = await authAPI.refresh();\r\n    if (response.data.statusCode === 200)\r\n      localStorage.setItem(\"access_token\", response.data.body.access_token);\r\n    localStorage.setItem(\"refresh_token\", response.data.body.refresh_token);\r\n    dispatch(me());\r\n  };\r\n};\r\nexport const me = () => {\r\n  return async (dispatch) => {\r\n    dispatch(setIsFetching(true));\r\n    let response = await authAPI.me();\r\n    if (response.data.body.status === \"ok\") {\r\n      dispatch(setIsAuth(true));\r\n      dispatch(setIsFetching(false));\r\n    } else if (\r\n      response.data.body.status === \"error\" &&\r\n      localStorage.getItem(\"refresh_token\")\r\n    ) {\r\n      dispatch(refreshToken());\r\n    }\r\n  };\r\n};\r\n\r\nexport default authReducer;\r\n","export const required = (value) => {\r\n    if(value) return undefined;\r\n    return \"this field is required\";\r\n}","import React from 'react';\r\nimport style from './formControls.module.css'\r\n\r\n\r\n\r\nexport const renderField = (Component) => {\r\n    return ({input, meta, ...props}) => {\r\n      return (\r\n        <div className={style.forControl}>\r\n          <Component meta={meta} {...props} {...input} className={meta.error && meta.active? style.error:\"\"}/>\r\n          { meta.error && meta.active && <div className={style.errorMessage}>{meta.error}</div>}\r\n        </div>\r\n      );\r\n    }\r\n  }","import React from \"react\";\r\nimport { reduxForm, Field } from \"redux-form\";\r\nimport { required } from \"../../helpers/validators/validators\";\r\nimport { renderField } from \"../../hoc/formControls/FormControls\";\r\nimport style from \"../../hoc/formControls/formControls.module.css\";\r\n\r\nconst renderInput = renderField(\"input\");\r\n\r\nconst LoginForm = ({ handleSubmit, errorMessage, anyTouched, ...rest }) => (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        <Field\r\n          validate={[required]}\r\n          component={renderInput}\r\n          placeholder=\"Login\"\r\n          name=\"login\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <Field\r\n          validate={[required]}\r\n          component={renderInput}\r\n          placeholder=\"Password\"\r\n          name=\"password\"\r\n          type=\"password\"\r\n        />\r\n      </div>\r\n      {errorMessage && anyTouched && (\r\n        <div className={errorMessage && style.loginError}>{errorMessage}</div>\r\n      )}\r\n      <div>\r\n        <button>Login</button>\r\n      </div>\r\n    </form>\r\n);\r\n\r\nconst LoginReduxForm = reduxForm({\r\n  form: \"login\",\r\n})(LoginForm);\r\n\r\nexport default LoginReduxForm;\r\n","import React from \"react\";\r\nimport { reduxForm, Field } from \"redux-form\";\r\nimport { required } from \"../../helpers/validators/validators\";\r\nimport { renderField } from \"../../hoc/formControls/FormControls\";\r\nimport style from \"../../hoc/formControls/formControls.module.css\";\r\n\r\nconst renderInput = renderField(\"input\");\r\n\r\nconst RegistrationForm = ({ handleSubmit, errorMessage, anyTouched, ...rest }) => (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        <Field\r\n          validate={[required]}\r\n          component={renderInput}\r\n          placeholder=\"Login\"\r\n          name=\"login\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <Field\r\n          validate={[required]}\r\n          component={renderInput}\r\n          placeholder=\"Password\"\r\n          name=\"password\"\r\n          type=\"password\"\r\n        />\r\n      </div>\r\n      {errorMessage && anyTouched && (\r\n        <div className={errorMessage && style.loginError}>{errorMessage}</div>\r\n      )}\r\n      <div>\r\n        <button>Register</button>\r\n      </div>\r\n    </form>\r\n  );\r\nconst RegistrationReduxForm = reduxForm({\r\n  form: \"registration\",\r\n})(RegistrationForm);\r\n\r\nexport default RegistrationReduxForm;\r\n","import React from \"react\";\r\nimport style from \"../../hoc/formControls/formControls.module.css\";\r\nimport LoginReduxForm from \"./LoginForm\";\r\nimport RegistrationReduxForm from \"./RegistrationForm\";\r\n\r\nconst Public = ({\r\n  error,\r\n  regError,\r\n  className,\r\n  handleClick,\r\n  active,\r\n  reg,\r\n  onSubmit,\r\n}) => (\r\n  <>\r\n    <div onClick={handleClick}>\r\n      <label\r\n        className={active === \"Authorization\" ? className : style.tab}\r\n        title=\"Authorization\"\r\n      >\r\n        Authorization\r\n      </label>\r\n      <label\r\n        className={active === \"Registration\" ? className : style.tab}\r\n        title=\"Registration\"\r\n      >\r\n        Registration\r\n      </label>\r\n    </div>\r\n    {!reg ? (\r\n      <div>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm errorMessage={error} onSubmit={onSubmit} />\r\n      </div>\r\n    ) : (\r\n      <div>\r\n        <h1>Registration</h1>\r\n        <RegistrationReduxForm errorMessage={regError} onSubmit={onSubmit} />\r\n      </div>\r\n    )}\r\n  </>\r\n);\r\n\r\nexport default Public;\r\n","export default __webpack_public_path__ + \"static/media/preloader.83664c10.svg\";","import React from 'react';\r\nimport style from './preloader.module.css';\r\nimport PreloaderIcon from '../../assets/images/preloader.svg';\r\n\r\nconst Preloader = (props) => {\r\n    return (\r\n        <div>\r\n            <img className={style.preloader} src={PreloaderIcon} alt='preloader'/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader;","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { login, signUp, me } from \"../../redux/auth-reducer\";\r\nimport style from \"../../hoc/formControls/formControls.module.css\";\r\nimport classNames from \"classnames/bind\";\r\nimport Public from \"./Public\";\r\nimport Preloader from './../Preloader/Preloader';\r\n\r\nlet cx = classNames.bind(style);\r\n\r\nconst PublicContainer = ({\r\n  isAuth,\r\n  error,\r\n  login,\r\n  signUp,\r\n  me,\r\n  regError,\r\n  isFetching\r\n}) => {\r\n  const [active, setActive] = useState(\"Authorization\");\r\n  const [reg, setReg] = useState(false);\r\n  let history = useHistory();\r\n  useEffect(() => {\r\n    if (isAuth) {\r\n      history.push(\"/private\");\r\n    } else\r\n    if (localStorage.getItem(\"access_token\")) {\r\n      me();\r\n    }\r\n    // if (refreshing) {\r\n    //   refreshToken();\r\n    // }\r\n  }, [isAuth, history, me]);\r\n  const onSubmit = ({ login: userLogin, password }) => {\r\n    if (active === \"Registration\") {\r\n      signUp(userLogin, password);\r\n    } else if (active === \"Authorization\") {\r\n      login(userLogin, password);\r\n    }\r\n  };\r\n  const handleClick = (e) => {\r\n    setActive(e.target.title);\r\n    if (e.target.title === \"Registration\") {\r\n      setReg(true);\r\n    } else {\r\n      setReg(false);\r\n    }\r\n  };\r\n  let className = cx(\"tab\", { active: true });\r\n  return (\r\n    <>\r\n    {isFetching ? <Preloader /> :\r\n    <Public\r\n      error={error}\r\n      regError={regError}\r\n      className={className}\r\n      handleClick={handleClick}\r\n      active={active}\r\n      reg={reg}\r\n      onSubmit={onSubmit}\r\n    />\r\n    }\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ auth }) => ({\r\n  isAuth: auth.isAuth,\r\n  error: auth.error,\r\n  regError: auth.regError,\r\n  isFetching: auth.isFetching\r\n});\r\n\r\nexport default connect(mapStateToProps, { login, signUp, me })(\r\n  PublicContainer\r\n);\r\n","import React from 'react';\r\nimport { withAuthRedirect } from '../../hoc/withAuth';\r\n\r\nconst Private = (props) => {\r\n    return(\r\n        <div>\r\n            <h1>Private</h1>\r\n        </div>\r\n    )\r\n}\r\nexport default withAuthRedirect(Private);","import \"./App.css\";\nimport { Switch, Route, NavLink, Redirect } from \"react-router-dom\";\nimport Public from \"./components/public/PublicContainer\";\nimport Private from './components/private/Private';\nimport React from 'react';\n\n\nconst App = () => {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n          <nav>\n            <NavLink to=\"public\">Public</NavLink>\n            <NavLink to=\"private\">Private</NavLink>\n          </nav>\n          <Switch>\n            <Route path=\"/public\" component={Public} />\n            <Route path=\"/private\" component={Private} />\n            <Redirect to=\"/public\" />\n          </Switch>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { combineReducers, createStore, applyMiddleware, compose } from \"redux\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport ReduxThunk from \"redux-thunk\";\r\n\r\nimport authReducer from \"./auth-reducer\";\r\n\r\nlet reducersPack = combineReducers({\r\n  auth: authReducer,\r\n  form: formReducer,\r\n});\r\n//for redux dev tools extension ,window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\nconst store = createStore(reducersPack, compose(applyMiddleware(ReduxThunk)));\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter, HashRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/redux-store\";\n\nReactDOM.render(\n  <HashRouter>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </HashRouter>,\n  document.getElementById(\"root\")\n);\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}